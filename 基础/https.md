https  是 http +  SSL/STL  层 

TSL 基本过程

1. 客户端 向服务器端索要并验证公钥
2. 双方协商生成 对话秘钥 （根据3个随机数生成）
3. 双方采用对话秘钥进行通信



SSL /  TLS 握手四个阶段详细说明

1. 客户端向服务器发送加密请求， 包括： 

   * 支持的协议版本（如 SSL 2.0）
   * 一个客户端生成的随机数（第一个随机数）
   * 支持的加密算法（如 RSA）
   * 支持的压缩算法

2. 服务器收到请求， 向客户端 发出回应 包括： 

   * 确认的使用的加密协议的版本
   * 一个服务器生成的随机数（第二个随机数）
   * 确认使用的加密算法
   * 服务器证书

3. 客户端收到服务器的回应后，如果证书内容有问题，会向访问者发出一个警告，是否继续通信； 如果证书没问题， 客户端会取出 公钥， 然后向服务器发送内容：

   * 一个随机数（第三个随机数）
   * 编码改变的通知， 随后的信息都采用加密的方式
   * 客户端握手结束的通知，这一项是前面发送的所有内容的HASH值，供服务器校验

   > 上述三部一共生成了3个随机数，接着双方就用协定好的加密算法，各自生成本次会话所用的同一把 对话秘钥

4. 服务器最后回应 服务器收到的客户端的第三个 随机数后， 计算本次会话所用的 对话秘钥 ， 然后向客户端发送：

   * 编码改变通知， 随后发送的信息都采用加密方式
   * 服务器握手结束通知，表示和服务器握手阶段已经结束，这一项同时也是前面发送的所有内容的HASH值， 来供客户端校验





至此， 整个握手阶段全部结束， 接下来 ， 客户端与服务器进入加密通信， 就完全使用普通的HTTP 协议， 只不过 用 会话秘钥 加密内容